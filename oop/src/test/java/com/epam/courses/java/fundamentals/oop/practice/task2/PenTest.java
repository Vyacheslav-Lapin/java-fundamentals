package com.epam.courses.java.fundamentals.oop.practice.task2;

import static org.assertj.core.api.Assertions.assertThat;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.DisplayName;

public class PenTest {

  private static Pen pen1;
  private static Pen pen2;
  private static Pen pen3;

  @BeforeAll
  static void setUp() {
    pen1 = new Pen(PenType.BALLPOINT, InkColor.BLUE);
    pen2 = new Pen(PenType.BALLPOINT, InkColor.BLUE);
    pen3 = new Pen(PenType.GEL, InkColor.BLACK);

    pen1.hashCode();
    pen2.hashCode();
    pen3.hashCode();
  }

  @Test
  void testGetPenType() {
    assertThat(pen1.getPenType()).isEqualTo(PenType.BALLPOINT);
    assertThat(pen2.getPenType()).isEqualTo(PenType.BALLPOINT);
    assertThat(pen3.getPenType()).isEqualTo(PenType.GEL);
  }

  @Test
  void testSetPenType() {
    pen1.setPenType(PenType.GEL);
    assertThat(pen1.getPenType()).isEqualTo(PenType.GEL);
  }

  @Test
  void testGetInkColor() {
    assertThat(pen1.getInkColor()).isEqualTo(InkColor.BLUE);
    assertThat(pen2.getInkColor()).isEqualTo(InkColor.BLUE);
    assertThat(pen3.getInkColor()).isEqualTo(InkColor.BLACK);
  }

  @Test
  void testSetInkColor() {
    pen1.setInkColor(InkColor.RED);
    assertThat(pen1.getInkColor()).isEqualTo(InkColor.RED);
  }

  @Test
  @DisplayName("equals method works correctly")
  void testEquals() {
    assertThat(pen1.equals(pen1)).isEqualTo(true);
    assertThat(pen1.equals(pen2)).isEqualTo(true);
    assertThat(pen1.equals(pen3)).isEqualTo(false);
  }

  @Test
  @DisplayName("hashCode method works correctly")
  void testHashCode() {
    assertThat(pen1.hashCode() == pen2.hashCode()).isEqualTo(true);
    assertThat(pen1.hashCode() == pen3.hashCode()).isEqualTo(false);
  }
}
